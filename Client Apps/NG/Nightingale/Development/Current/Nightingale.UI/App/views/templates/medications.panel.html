<div class="panel-wrapper">
    <div class="row">
        <!-- ko foreach: columns -->
        <div class="grey hover-parent" data-bind="css: cssClass">
            <span data-bind="text: displayName"></span>
            <!-- ko if: $parent.canSort && canSort -->
            <i class="pull-right filter-toggle pad-right " data-bind="click: $parent.toggleSort, css: ($parent.selectedSortColumn() === sortProperty ? 'fa fa-caret-up' : ($parent.selectedSortColumn() === sortProperty + ' desc' ? 'fa fa-caret-down' : ''))"></i>
            <!-- /ko -->
            <!-- ko if: ($parent.canSort  && canSort && ($parent.selectedSortColumn() !== sortProperty && $parent.selectedSortColumn() !== sortProperty + ' desc'))  -->
            <i class="pull-right hover-show fa fa-caret-up filter-toggle pad-right" data-bind="click: $parent.toggleSort"></i>
            <!-- /ko -->
        </div>
        <!-- /ko  -->
    </div>
    <div data-bind="foreach: computedMedications">
        <div class="row divider filter-toggle" data-bind="foreach: $parent.columns, css: { 'active': $parent.activeMedication() === $data }">
            <div data-bind="compose: { model: $parent, view: path }, css: cssClass"></div>
        </div>
        <div class="row pad allergydtl muted toggle" data-bind="visible: isExpanded">
            <div class="row pad-top">
                <div class="span2">
                    <strong>SIG:</strong>
                </div>
                <div class="span10">
                    <span data-bind="text: computedSigCode"></span>&nbsp
                </div>
            </div>
            <div class="row pad-top">
                <div class="span2">
                    <strong>Type:</strong>
                </div>
                <div class="span10">
                    <span data-bind="text: type()? type().name() : '-'"></span>&nbsp
                </div>
            </div>
            <div class="row pad-top">
                <div class="span2">
                    <strong>Source</strong>
                </div>
                <div class="span10">
                    <span data-bind="text: source() ? source().name() : '-'">&nbsp</span>
                </div>
            </div>
            <div class="row pad-top">
                <div class="span2">
                    <strong>Reason</strong>
                </div>
                <div class="span10">
                    <span data-bind="StringOrDash: reason"></span>&nbsp
                </div>
            </div>
            <div class="row pad-top">
                <div class="span2">
                    <strong>Start Date:</strong>
                </div>
                <div class="span3" data-bind="DateOrDash: startDate"></div>
                <div class="span2">
                    <strong>End Date:</strong>
                </div>
                <div class="span3" data-bind="DateOrDash: endDate"></div>
            </div>
            <div class="row pad-top">
                <div class="span2">
                    <strong>Notes</strong>
                </div>
                <div class="span10">
                    <textarea disabled="disabled" data-bind="value: notes"></textarea>
                </div>
            </div>
        </div>
    </div>
    <div class="row" data-bind="visible: computedMedications().length === 0">
        <em>No data meets your filter criteria</em>
    </div>
</div>
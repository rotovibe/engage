<div class="pad-vertical">
    <div class="row">
        <div class="span2">
            <strong>Name</strong>
        </div>
        <div class="span3">
            <strong>Type</strong>
        </div>
        <div class="span2">
            <strong>Start Date</strong>
        </div>
        <div class="span2">
            <strong>End Date</strong>
        </div>
        <div class="span2">
            <strong>Status</strong>
        </div>
        <div class="span1">
            &nbsp;
        </div>
    </div>
    <!-- ko foreach: newPatientAllergies -->
	    <div class="row pad-top divider">
	        <div class="span2">
	        	<span data-bind="text: allergyName"></span>
	        </div>
	        <div class="span3">
	        	<!-- ko if: !isUserCreated() -->
	        	<div class="ellipsis">
	        		<span data-bind="text: typeString, attr: { title: typeString }"></span>
	        	</div>
	        	<!-- /ko -->
	        	<div data-bind="visible: isUserCreated">
                	<div class="span9" data-bind="multiselect: { options: $parent.allergyTypes, values: allergyTypeIds, idValue: 'id', text: 'name', label: 'allergytypes', stringValue: typeString, isRequired: true }"></div>
	        	</div>
	        </div>
	        <div class="span2">
        		<input data-bind="value: startDate, datepickerEditable: startDate, datepickerOptions: { maxDate: '+0' }, css: { 'invalid': (validationErrorsArray().indexOf('startDate') !== -1) }, valueUpdate: 'afterkeydown' " type="text" class="datepicker" >
	        </div>
	        <div class="span2">
        		<input data-bind="value: endDate, datepickerEditable: endDate, datepickerDynamicOptions: { minDate: startDate}, datepickerOptions: { maxDate: '+0' }, css: { 'invalid': (validationErrorsArray().indexOf('endDate') !== -1) }, valueUpdate: 'afterkeydown' " type="text" class="datepicker" >
	        </div>
	        <div class="span2">
                <div class="span12" data-bind="chsnsingle: { options: $parent.allergyStatuses, value: status, text: 'name', label: 'status' }"></div>
	        </div>
	        <div class="span1 pull-right">
	            <a href="#" title="Remove" data-bind="click: $parent.removeAllergy">
	            	<i class="close pull-right icon-cancel red"></i>
	        	</a>
	        </div>
	    </div>
	    <div class="row pad-top">
	        <!-- <div class="span2">
	            &nbsp;
	        </div> -->
	        <div class="span4">
	            <strong>Reaction</strong>
	        </div>
	        <div class="span4">
	            <strong>Severity</strong>
	        </div>
	        <div class="span4">
	            <strong>Source</strong>
	        </div>
	    </div>
	    <div class="row pad-top">
	        <!-- <div class="span2">
	            &nbsp;
	        </div> -->
	        <div class="span4">
	            &nbsp;
                <div class="span10" data-bind="multiselect: { options: $parent.reactions, values: reactionIds, idValue: 'id', text: 'name', label: 'reactions', stringValue: reactionString }"></div>
	        </div>
	        <div class="span4">
                <div class="span10" data-bind="chsnsingle: { options: $parent.severities, value: severity, text: 'name', label: 'severities' }"></div>
	        </div>
	        <div class="span4">
	            <div class="span10" data-bind="chsnsingle: { options: $parent.allergySources, value: source, text: 'name', label: 'sources' }"></div>
	        </div>
	    </div>
	    <div class="row pad-top">
	    	<div class="span3 grey">Notes:</div>
		</div>
		<div class="row">
			<div class="span12">
				<textarea data-bind="value: notes"></textarea>
			</div>
		</div>
    <!-- /ko -->
	    <div class="divider"></div>
</div>
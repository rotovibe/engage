<div class="body" data-bind="with: task">
    <div class="column">
        <section class="data-set clearfix">
            <div class="row pad-top">
                <div class="span3 align-right">
                    <span class="grey">Description</span>
                </div>
                <div class="span7">
                    <input data-bind="value: description, valueUpdate: 'afterkeydown'" class="string optional" maxlength="500" type="text" />
                    <span><em class="grey" data-bind="visible: !description()">Description is required</em></span>
                </div>
            </div>
            <div class="row pad-top">
                <div class="span3 align-right">
                    <span class="grey">Status</span>
                </div>
                <div class="span3">
                    <div data-bind="chsnsingle: { options: $parent.goalTaskStatuses, value: status, text: 'name', label: 'goaltaskstatuses', disabled: $parent.isNew() }"></div>
                </div>
            </div>
            <div class="row pad-top">
                <div class="span3 align-right">
                    <span class="grey">Start Date</span>
                </div>
                <div class="span6">
                    <input data-bind="datepicker: startDate, datepickerOptions: { }" type="text" class="datepicker">
                </div>
                <div class="span3"></div>
            </div>
            <div class="row pad-top">
                <div class="span3 align-right">
                    <span class="grey">Target Value</span>
                </div>
                <div class="span9">
                    <input data-bind="value: targetValue" maxlength="255" />
                </div>
            </div>
            <div class="row pad-top">
                <div class="span3 align-right">
                    <span class="grey">Target Date</span>
                </div>
                <div class="span6">
                    <input data-bind="datepicker: targetDate, datepickerOptions: { }" type="text" class="datepicker">
                </div>
                <div class="span3"></div>
            </div>
            <div class="row pad-top">
                <div class="span3 align-right">
                    <span class="grey">Associated Barrier(s)</span>
                </div>
                <!-- ko if: goal -->
                <div class="span6" data-bind="multiselect: { options: $parent.computedBarriers, values: barrierIds, idValue: 'id', text: 'name', label: 'barriers', stringValue: barrierString }"></div>
                <!-- /ko -->
                <!-- ko if: !goal() -->
                <span class="span9">No barriers</span>
                <!-- /ko -->
            </div>
            <!-- ko foreach: customAttributes().sort($parent.alphabeticalOrderSort) -->
            <!-- ko compose: path -->
            <!-- /ko -->
            <!-- /ko -->
			<div class="row pad-top">
				<div class="row pad-top filter-toggle" data-bind="click: $parent.toggleOpen, visible: details">
					<h5 class="grey pad-bottom">Existing Details</h5>
					<span data-bind="visible: (!($parent.existingDetailsOpen())), text: '...'"></span>				
				</div>
				<pre data-bind="text: details, visible: $parent.existingDetailsOpen" ></pre>
				<div class="row pad-top divider">
					<h5 class="grey pad-bottom">New Details</h5>
					<textarea data-bind="value: newDetails, valueUpdate: 'afterkeydown'" class="string optional" maxlength="5000" type="text" style="height: 10em; resize: both;"></textarea>
				</div>				
			</div>
        </section>
    </div>
</div>